/*
 * Copyright (C) 2016 NXP Semiconductors
 *
 * SPDX-License-Identifier:  GPL-2.0
 *
 * Refer doc/README.imximage for more details about how-to configure
 * and create imximage boot image
 *
 * The syntax is taken as close as possible with the kwbimage
 */

#define __ASSEMBLY__
#include <config.h>

IMAGE_VERSION  2
BOOT_FROM  sd

/*
 * Device Configuration Data (DCD)
 *
 * Each entry must have the format:
 * Addr-type           Address        Value
 *
 * where:
 *  Addr-type register length (1,2 or 4 bytes)
 *  Address  absolute address of the register
 *  value    value to be stored in the register
 */

/* Enable OCRAM EPDC*/
DATA 4 0x30340004 0x4F400005

/* 
 * DDR Controller Registers
 * Memory type:          LPDDR2
 * Manufacturer:         ISSI
 * Device Part Number:   43LD16128B-25BLI
 * Clock Freq.:          400MHz
 * Density per CS in Gb: 2
 * Chip Selects used:    1
 * Number of Banks:      8
 * Row address:          14
 * Column address:       10
 * Data bus width:       16
 * ROW-BANK interleave:  ENABLED
 */
DATA 4 0x30391000 0x00000002
DATA 4 0x307a0000 0x01021004
DATA 4 0x307a0064 0x0018001A
DATA 4 0x307a0490 0x00000001
DATA 4 0x307a00d0 0x00280001
DATA 4 0x307a00d8 0x00000D05
DATA 4 0x307a00dc 0x00820006
DATA 4 0x307a00e0 0x00020000
DATA 4 0x307a00e4 0x000D0004
DATA 4 0x307a00f4 0x0000033F
DATA 4 0x307a0100 0x070A0D08
DATA 4 0x307a0104 0x0002020D
DATA 4 0x307a0108 0x02040606
DATA 4 0x307a010c 0x00504000
DATA 4 0x307a0110 0x04010206
DATA 4 0x307a0114 0x02020303
DATA 4 0x307a0118 0x02020003
DATA 4 0x307a011c 0x00000202
DATA 4 0x307a0120 0x00000101

DATA 4 0x307a0180 0x20480012
DATA 4 0x307a0184 0x00A00100
DATA 4 0x307a0190 0x02098203
DATA 4 0x307a0194 0x00060303
DATA 4 0x307a01a0 0x80400003
DATA 4 0x307a01a4 0x00100020
DATA 4 0x307a01a8 0x80100004

DATA 4 0x307a0200 0x0000001F
DATA 4 0x307a0204 0x00070707
DATA 4 0x307a020c 0x0F000000
DATA 4 0x307a0210 0x00000F0F
DATA 4 0x307a0214 0x06060606
DATA 4 0x307a0218 0x0F0F0606

DATA 4 0x307a0240 0x06000600
DATA 4 0x307a0244 0x00000000

/* PHY Control Registers */
DATA 4 0x30391000 0x00000000
DATA 4 0x30790000 0x17421640
DATA 4 0x30790004 0x10210100
DATA 4 0x30790008 0x00010000
DATA 4 0x30790010 0x00050408
DATA 4 0x307900b0 0x1010007E

DATA 4 0x3079001C 0x01010000
DATA 4 0x3079009c 0x00000D6E

DATA 4 0x30790030 0x06060606
DATA 4 0x30790020 0x0a0a0a0a
DATA 4 0x30790050 0x01000008
DATA 4 0x30790050 0x00000008
DATA 4 0x30790018 0x0000000f
DATA 4 0x307900c0 0x0E487304
DATA 4 0x307900c0 0x0E4C7304
DATA 4 0x307900c0 0x0e4c7306
DATA 4 0x307900c0 0x0e4c7304

CHECK_BITS_SET 4 0x307900c4 0x1

DATA 4 0x307900c0 0x0e487304

DATA 4 0x30384130 0x00000000
DATA 4 0x30340020 0x00000178
DATA 4 0x30384130 0x00000002

CHECK_BITS_SET 4 0x307a0004 0x1
